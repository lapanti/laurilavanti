---
/* eslint-disable astro/no-unused-css-selector */
import type { Image } from '../../../types/contentful'

import { Picture } from 'astro:assets' /* eslint-disable-line import/no-unresolved */

import { colors } from '../../../lib/styles'

interface Props {
    image?: Image
}

const { image } = Astro.props
---

<style define:vars={{ colorsEvening70: colors.evening70 }}>
    div {
        display: none;
    }

    img {
        top: 0;
        left: 0;
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    picture:after {
        background-image: linear-gradient(var(--colorsEvening70), var(--colorsEvening70));
        bottom: 0;
        content: '';
        height: 100%;
        position: absolute;
        top: 0;
        width: 100%;
    }

    @media (min-width: 1200px) {
        div {
            display: flex;
            height: 100%;
            position: absolute;
            width: 100%;
        }
    }
</style>
<>
    {
        image?.fields?.file?.url && (
            <div>
                <Picture
                    alt=""
                    fit="cover"
                    formats={['avif', 'webp']}
                    height="588"
                    layout="full-width"
                    priority
                    sizes="50vw"
                    src={`https:${image.fields.file.url}`}
                    width="768"
                    widths={[576, 768, 992, 1280, 2560]}
                />
            </div>
        )
    }
</>
