---

import { colors, fontSizes, sizes, typographics } from '../../../lib/styles'

const { slug, navigationTitle, title } = Astro.props
const { pathname } = Astro.url
---
<style define:vars={{ colorsPeach: colors.peach, sizes01875: sizes[0.1875]}}>
    a[aria-current="page"] {
        text-decoration: underline;
        text-decoration-thickness: var(--sizes01875);
    }


    a::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: var(--sizes01875);
        transition: transform 200ms ease-in-out;
        opacity 1;
        transform: translate3d(-100%, 0, 0);
        background-color: var(--colorsPeach);
    }

    a:hover::after,
    a:focus::after{
        transform: translate3d(0, 0, 0);
    }

    a[aria-current="page"]:hover::after,
    a[aria-current="page"]:focus::after {
        transform: translate3d(-100%, 0, 0);
    }
</style>
    <a
    href={`/${slug}/`}
    title={title}
    style={{ ...typographics.body, ...fontSizes[1.5], position: 'relative', color: colors.peach, overflow: 'hidden' }}
    aria-current={pathname.split('/')[1] === slug ? 'page' : 'false'}
    >{navigationTitle ?? title}
</a>
